CVE-2020-28002
==============

[Current Desprition](https://nvd.nist.gov/vuln/detail/CVE-2020-28002)
In SonarQube 8.4.2.36762, an external attacker can achieve authentication bypass through SonarScanner. With an empty value for the -D sonar.login option, anonymous authentication is forced. This allows creating and overwriting public and private projects via the /api/ce/submit endpoint.
(It is already fixed.)

[Introduction to SonarQube](./../SonarQube/README.md)

### Who uses SonarQube
SonarQube is used and loved by 300,000+ organizations.
* Barclays
* IBM
* Microsoft
* Cisco
* ...

### What is the real-world impact
All these organization's code is in danger. From an attacker's perspective, products like SonarQube become attractive because they store or have access to all the source code of an organization's applications, thus it is more profitable to attack a link in the DevSecOps process than the application itself. All these orginazations are in danger and then all customers of these originizations are in danger.


### Detailed Information
SonarQube ID information

* Server ID: 32FADB56-AXRx4wuyUe_xmLIBDkFu
* Version: 8.4.2.36762
* Date: 2020-10-22

When the SonarQube system is mounted for the first time , without prior authentication they will not be able to find any access to create a project or analyze it, they only have visibility over those that have been left publicly exposed ( so far, good ), however, this behavior does not it is fulfilled to the letter, since an external party can create anonymous projects and additionally overwrite existing projects, whether public or private, and best of all, without authentication.

In local or with any of the possible integrations, when we need to scan the project, we are asked to indicate at least the following parameters to SonarScanner :

* sonar.projectKey= Name of the project to analyze
* sonar.sources= Path where the code is located
* sonar.host.url= SonarQube server URL or by default call SonarCloud.io
* sonar.login= Username or connection token
* sonar.password= Required if used in conjunction with sonar.login

In the above, basic or token authentication is contemplated, and it is reasonable to think that without providing a correct token or an adequate login and password, it is not possible to carry out an analysis or upload information to the server:

For example 
sonar-scanner.bat -D” sonar.projectKey = anonymous_project ” -D”s onar.sources= . ” -D” sonar.host.url= http://192.168.0.56 ” -D” sonar.login= test ” -D” sonar.password= test “
![Success](./images/PublicSuccess.png)

If we scan the project with an empty login without the password parameter in the current version, it looks like:

![Not Authorized](./images/PublicNotAuthorized.png)

Indeed, the response tells us that we do NOT have authorization for the analysis or project creation actions. But in version 8.4.2.36762, it can bypass the authorization and have the following response.

Links
-----



Citations
---------
* https://nvd.nist.gov/vuln/detail/CVE-2020-28002
* https://csl.com.co/sonarqube-auditando-al-auditor-parte-ii/
